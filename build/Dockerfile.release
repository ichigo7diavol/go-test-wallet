FROM golang:1.24 AS builder

ARG CGO_ENABLED=1

WORKDIR /app

COPY . .
RUN go build -o /out/app ./cmd/app

FROM debian:bookworm-slim

WORKDIR /app

COPY --from=builder /out/app .

ENTRYPOINT ["/app/app"]